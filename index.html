<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="utf-8">
<title>Sportles Observatie Timer v8</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
&nbsp;&nbsp;body {
&nbsp;&nbsp;&nbsp;&nbsp;font-family: Arial, sans-serif;
&nbsp;&nbsp;&nbsp;&nbsp;background:#1e1e1e; color:#ddd;
&nbsp;&nbsp;&nbsp;&nbsp;margin:0; padding:0;
&nbsp;&nbsp;&nbsp;&nbsp;display:flex; flex-direction:column;
&nbsp;&nbsp;&nbsp;&nbsp;height:100vh;
&nbsp;&nbsp;}
&nbsp;&nbsp;h1 { text-align:center; margin:15px 0; font-size:1.4em; color:#fff; }
&nbsp;&nbsp;#total { text-align:center; font-size:2.6em; margin:10px 0; font-weight:bold; }
&nbsp;&nbsp;/* TIMELINE */
&nbsp;&nbsp;#timeline {
&nbsp;&nbsp;&nbsp;&nbsp;height:20px; border-radius:10px; overflow:hidden;
&nbsp;&nbsp;&nbsp;&nbsp;background:#222; display:flex; width:100%; margin:15px 0;
&nbsp;&nbsp;}
&nbsp;&nbsp;.seg { height:100%; }
&nbsp;&nbsp;/* LAYOUT: percentages links in eigen kolom */
&nbsp;&nbsp;.row { display:flex; width:100%; margin-bottom:8px; }
&nbsp;&nbsp;.percBox {
&nbsp;&nbsp;&nbsp;&nbsp;width:60px; min-width:60px;
&nbsp;&nbsp;&nbsp;&nbsp;font-weight:bold; font-size:1.1em;
&nbsp;&nbsp;&nbsp;&nbsp;background:#000; border-radius:6px;
&nbsp;&nbsp;&nbsp;&nbsp;display:flex; align-items:center; justify-content:center;
&nbsp;&nbsp;&nbsp;&nbsp;margin-right:10px; height:100%;
&nbsp;&nbsp;}
&nbsp;&nbsp;/* CATEGORY BUTTON */
&nbsp;&nbsp;.cat {
&nbsp;&nbsp;&nbsp;&nbsp;flex:1; padding:18px 16px;
&nbsp;&nbsp;&nbsp;&nbsp;border-radius:14px; cursor:pointer;
&nbsp;&nbsp;&nbsp;&nbsp;position:relative; overflow:hidden;
&nbsp;&nbsp;&nbsp;&nbsp;background:#333; transition:0.25s all;
&nbsp;&nbsp;}
&nbsp;&nbsp;.cat.active { transform:scale(1.04); box-shadow:0 0 22px rgba(0,0,0,0.7); }
&nbsp;&nbsp;.fill {
&nbsp;&nbsp;&nbsp;&nbsp;position:absolute; left:0; top:0; bottom:0;
&nbsp;&nbsp;&nbsp;&nbsp;width:0%; opacity:0.45; transition:width 0.5s ease;
&nbsp;&nbsp;}
&nbsp;&nbsp;.label { font-size:1.35em; font-weight:bold; z-index:2; position:relative; }
&nbsp;&nbsp;.desc { z-index:2; position:relative; margin-top:4px; opacity:0.8; }
&nbsp;&nbsp;.time {
&nbsp;&nbsp;&nbsp;&nbsp;position:absolute; right:16px; bottom:10px;
&nbsp;&nbsp;&nbsp;&nbsp;font-size:2em; font-weight:bold; z-index:3;
&nbsp;&nbsp;}
&nbsp;&nbsp;/* Controls */
&nbsp;&nbsp;.controls { display:flex; gap:10px; margin:15px 0; }
&nbsp;&nbsp;button {
&nbsp;&nbsp;&nbsp;&nbsp;flex:1; padding:15px; font-size:1.15em;
&nbsp;&nbsp;&nbsp;&nbsp;border:none; border-radius:10px;
&nbsp;&nbsp;}
&nbsp;&nbsp;#startBtn { background:#4caf50; color:white; padding:22px; font-size:1.6em; }
&nbsp;&nbsp;#pauseBtn { background:#ff9800; color:black; }
&nbsp;&nbsp;#stopBtn { background:#66bb6a; color:white; }
&nbsp;&nbsp;#resetBtn { background:#d32f2f; color:white; }
&nbsp;&nbsp;#noteInput {
&nbsp;&nbsp;&nbsp;&nbsp;width:100%; padding:12px;
&nbsp;&nbsp;&nbsp;&nbsp;background:#222; border:1px solid #444;
&nbsp;&nbsp;&nbsp;&nbsp;border-radius:8px; color:white; font-size:1em;
&nbsp;&nbsp;}
&nbsp;&nbsp;#noteBtn { margin-top:6px; background:#555; color:#fff; }
&nbsp;&nbsp;/* LOG */
&nbsp;&nbsp;#log {
&nbsp;&nbsp;&nbsp;&nbsp;background:#111; border-radius:10px;
&nbsp;&nbsp;&nbsp;&nbsp;padding:12px; font-family:monospace;
&nbsp;&nbsp;&nbsp;&nbsp;overflow-y:auto; flex:1; font-size:0.96em;
&nbsp;&nbsp;}
&nbsp;&nbsp;.logentry { margin:7px 0; padding:5px 10px; border-radius:5px; }
&nbsp;&nbsp;.log-cat0 { background:rgba(255,152,0,0.28); }
&nbsp;&nbsp;.log-cat1 { background:rgba(179,157,219,0.28); }
&nbsp;&nbsp;.log-cat2 { background:rgba(102,187,106,0.28); }
&nbsp;&nbsp;.log-cat3 { background:rgba(158,158,158,0.28); }
&nbsp;&nbsp;.note { padding-left:26px; position:relative; }
&nbsp;&nbsp;.note::before { content:"→"; position:absolute; left:8px; opacity:0.7; }
&nbsp;&nbsp;.hidden { display:none !important; }
&nbsp;&nbsp;main { flex:1; overflow-y:auto; padding:12px; }
&nbsp;&nbsp;@media(min-width:900px){
&nbsp;&nbsp;&nbsp;&nbsp;body{ flex-direction:row; }
&nbsp;&nbsp;&nbsp;&nbsp;main{ width:62%; }
&nbsp;&nbsp;&nbsp;&nbsp;aside{ width:38%; padding-left:14px; }
&nbsp;&nbsp;}
</style>
</head>
<body>
<main>
&nbsp;&nbsp;<h1>Sportles Observatie Timer</h1>
&nbsp;&nbsp;<div id="total">00:00</div>
&nbsp;&nbsp;<div id="timeline"></div>
&nbsp;&nbsp;<!-- CATEGORY ROWS -->
&nbsp;&nbsp;<div class="row">
&nbsp;&nbsp;&nbsp;&nbsp;<div class="percBox" id="perc0">0%</div>
&nbsp;&nbsp;&nbsp;&nbsp;<div class="cat active" data-id="0">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="fill" style="background:#e65100"></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="label">Organisatie & beheer</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="desc">materiaal klaarzetten, wachten, orde herstellen…</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="time" id="t0">0:00</div>
&nbsp;&nbsp;&nbsp;&nbsp;</div>
&nbsp;&nbsp;</div>
&nbsp;&nbsp;<div class="row">
&nbsp;&nbsp;&nbsp;&nbsp;<div class="percBox" id="perc1">0%</div>
&nbsp;&nbsp;&nbsp;&nbsp;<div class="cat" data-id="1">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="fill" style="background:#7e57c2"></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="label">Instructie & uitleg</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="desc">leerkracht praat, leerlingen luisteren</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="time" id="t1">0:00</div>
&nbsp;&nbsp;&nbsp;&nbsp;</div>
&nbsp;&nbsp;</div>
&nbsp;&nbsp;<div class="row">
&nbsp;&nbsp;&nbsp;&nbsp;<div class="percBox" id="perc2">0%</div>
&nbsp;&nbsp;&nbsp;&nbsp;<div class="cat" data-id="2">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="fill" style="background:#43a047"></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="label">Actieve leertijd</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="desc">leerlingen motorisch bezig</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="time" id="t2">0:00</div>
&nbsp;&nbsp;&nbsp;&nbsp;</div>
&nbsp;&nbsp;</div>
&nbsp;&nbsp;<div class="row">
&nbsp;&nbsp;&nbsp;&nbsp;<div class="percBox" id="perc3">0%</div>
&nbsp;&nbsp;&nbsp;&nbsp;<div class="cat" data-id="3">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="fill" style="background:#616161"></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="label">Overig / pauze</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="desc">drinken, blessure, onderbreking…</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="time" id="t3">0:00</div>
&nbsp;&nbsp;&nbsp;&nbsp;</div>
&nbsp;&nbsp;</div>
&nbsp;&nbsp;<div class="controls">
&nbsp;&nbsp;&nbsp;&nbsp;<button id="startBtn">Start observatie</button>
&nbsp;&nbsp;&nbsp;&nbsp;<button id="pauseBtn" class="hidden">Pauze</button>
&nbsp;&nbsp;&nbsp;&nbsp;<button id="stopBtn" class="hidden">Stop & resultaten</button>
&nbsp;&nbsp;&nbsp;&nbsp;<button id="resetBtn" class="hidden">Reset</button>
&nbsp;&nbsp;</div>
&nbsp;&nbsp;<input type="text" id="noteInput" class="hidden" placeholder="Opmerking typen…">
&nbsp;&nbsp;<button id="noteBtn" class="hidden">Notitie toevoegen</button>
&nbsp;&nbsp;<div id="result" style="margin-top:20px; padding:15px; background:#222; border-radius:10px; white-space:pre-wrap; font-family:monospace; display:none;"></div>
</main>
<aside>
&nbsp;&nbsp;<h3>Logboek</h3>
&nbsp;&nbsp;<div id="log"></div>
</aside>
<script>
/* ----------------- DATA -------------------- */
const colors = ['#ff9800','#b39ddb','#66bb6a','#9e9e9e'];
let running = false;
let lastSwitch = null;
let startTime = null;
let totalElapsed = 0;
let accum = [0,0,0,0];
let active = 0;
/* Voor timeline */
let segments = [];
let segmentStart = null;
/* Voor notities */
let noteTypingStart = null;
/* ----------------- HELPERS -------------------- */
function fmt(ms){
&nbsp;&nbsp;const s = Math.floor(ms/1000);
&nbsp;&nbsp;const m = Math.floor(s/60);
&nbsp;&nbsp;const sec = (s%60).toString().padStart(2,'0');
&nbsp;&nbsp;return m>=60 ? `${Math.floor(m/60)}:${(m%60).toString().padStart(2,'0')}:${sec}` : `${m}:${sec}`;
}
function lessonTimeFrom(ms){ return fmt(ms); }
function addLog(txt, type='note', cat=null){
&nbsp;&nbsp;const div = document.createElement('div');
&nbsp;&nbsp;div.classList.add('logentry');
&nbsp;&nbsp;if(type==='cat') div.classList.add('log-cat'+cat);
&nbsp;&nbsp;if(type==='note') div.classList.add('note');
&nbsp;&nbsp;const stamp = type==='start'
&nbsp;&nbsp;&nbsp;&nbsp;? new Date().toLocaleTimeString('nl-BE',{hour:'2-digit',minute:'2-digit',second:'2-digit'})
&nbsp;&nbsp;&nbsp;&nbsp;: lessonTimeFrom(totalElapsed);
&nbsp;&nbsp;div.textContent = `[${stamp}] ${txt}`;
&nbsp;&nbsp;document.querySelector('#log').appendChild(div);
&nbsp;&nbsp;div.scrollIntoView({behavior:'smooth'});
}
/* ----------------- TIMELINE -------------------- */
function rebuildTimeline(){
&nbsp;&nbsp;const tl = document.querySelector('#timeline');
&nbsp;&nbsp;tl.innerHTML = '';
&nbsp;&nbsp;const total = segments.reduce((a,s)=>a+s.duration,0) || 1;
&nbsp;&nbsp;segments.forEach(seg=>{
&nbsp;&nbsp;&nbsp;&nbsp;const div=document.createElement('div');
&nbsp;&nbsp;&nbsp;&nbsp;div.className='seg';
&nbsp;&nbsp;&nbsp;&nbsp;div.style.background=colors[seg.cat];
&nbsp;&nbsp;&nbsp;&nbsp;div.style.width=(seg.duration/total*100)+'%';
&nbsp;&nbsp;&nbsp;&nbsp;tl.appendChild(div);
&nbsp;&nbsp;});
}
/* ----------------- UPDATE -------------------- */
function update(){
&nbsp;&nbsp;if(!running) return;
&nbsp;&nbsp;const now=Date.now();
&nbsp;&nbsp;const elapsed=now-lastSwitch;
&nbsp;&nbsp;lastSwitch=now;
&nbsp;&nbsp;accum[active]+=elapsed;
&nbsp;&nbsp;totalElapsed+=elapsed;
&nbsp;&nbsp;document.querySelector('#total').textContent = lessonTimeFrom(totalElapsed);
&nbsp;&nbsp;accum.forEach((t,i)=>{
&nbsp;&nbsp;&nbsp;&nbsp;document.querySelector('#t'+i).textContent = fmt(t);
&nbsp;&nbsp;&nbsp;&nbsp;const perc = totalElapsed ? (t/totalElapsed*100).toFixed(1) : 0;
&nbsp;&nbsp;&nbsp;&nbsp;document.querySelector('#perc'+i).textContent = perc+"%";
&nbsp;&nbsp;&nbsp;&nbsp;document.querySelectorAll('.fill')[i].style.width = perc+"%";
&nbsp;&nbsp;});
}
setInterval(update,200);
/* ----------------- CATEGORY SWITCH -------------------- */
document.querySelectorAll('.cat').forEach(cat=>{
&nbsp;&nbsp;cat.addEventListener('click',()=>{
&nbsp;&nbsp;&nbsp;&nbsp;if(!running) return;
&nbsp;&nbsp;&nbsp;&nbsp;/* sluit vorige segment af */
&nbsp;&nbsp;&nbsp;&nbsp;const segDur = Date.now()-segmentStart;
&nbsp;&nbsp;&nbsp;&nbsp;segments.push({cat:active, duration:segDur});
&nbsp;&nbsp;&nbsp;&nbsp;rebuildTimeline();
&nbsp;&nbsp;&nbsp;&nbsp;/* switch */
&nbsp;&nbsp;&nbsp;&nbsp;document.querySelectorAll('.cat').forEach(c=>c.classList.remove('active'));
&nbsp;&nbsp;&nbsp;&nbsp;active = +cat.dataset.id;
&nbsp;&nbsp;&nbsp;&nbsp;cat.classList.add('active');
&nbsp;&nbsp;&nbsp;&nbsp;segmentStart = Date.now();
&nbsp;&nbsp;&nbsp;&nbsp;addLog(`→ ${cat.querySelector('.label').textContent}`, 'cat', active);
&nbsp;&nbsp;});
});
/* ----------------- START -------------------- */
document.querySelector('#startBtn').onclick=()=>{
&nbsp;&nbsp;running=true;
&nbsp;&nbsp;startTime=lastSwitch=Date.now();
&nbsp;&nbsp;segmentStart=Date.now();
&nbsp;&nbsp;segments=[];
&nbsp;&nbsp;document.querySelector('#timeline').innerHTML="";
&nbsp;&nbsp;document.querySelector('#startBtn').classList.add('hidden');
&nbsp;&nbsp;document.querySelectorAll('#pauseBtn, #stopBtn, #resetBtn, #noteInput, #noteBtn')
&nbsp;&nbsp;&nbsp;&nbsp;.forEach(el=>el.classList.remove('hidden'));
&nbsp;&nbsp;addLog('Observatie gestart','start');
};
/* ----------------- PAUSE -------------------- */
document.querySelector('#pauseBtn').onclick=()=>{
&nbsp;&nbsp;running=!running;
&nbsp;&nbsp;document.querySelector('#pauseBtn').textContent = running ? 'Pauze' : '▶ Hervatten';
&nbsp;&nbsp;if(running) lastSwitch=Date.now();
&nbsp;&nbsp;addLog(running?'Hervat':'Gepauzeerd');
};
/* ----------------- NOTES -------------------- */
const noteInput=document.querySelector('#noteInput');
noteInput.addEventListener('input',()=>{
&nbsp;&nbsp;if(noteInput.value.length>0 && noteTypingStart===null){
&nbsp;&nbsp;&nbsp;&nbsp;noteTypingStart = totalElapsed;
&nbsp;&nbsp;}
});
document.querySelector('#noteBtn').onclick=()=>{
&nbsp;&nbsp;const txt=noteInput.value.trim();
&nbsp;&nbsp;if(!txt) return;
&nbsp;&nbsp;const t = noteTypingStart!==null ? noteTypingStart : totalElapsed;
&nbsp;&nbsp;totalElapsed = t; // temporary override? No → we print the manual timestamp
&nbsp;&nbsp;addLog(txt);
&nbsp;&nbsp;noteTypingStart=null;
&nbsp;&nbsp;noteInput.value="";
};
/* ----------------- STOP -------------------- */
document.querySelector('#stopBtn').onclick=()=>{
&nbsp;&nbsp;if(running){ update(); running=false; }
&nbsp;&nbsp;/* sluit laatste segment af */
&nbsp;&nbsp;const segDur = Date.now()-segmentStart;
&nbsp;&nbsp;segments.push({cat:active, duration:segDur});
&nbsp;&nbsp;rebuildTimeline();
&nbsp;&nbsp;addLog('Observatie beëindigd');
&nbsp;&nbsp;let out=`Observatie beëindigd – ${new Date().toLocaleString('nl-BE')}\n\n`;
&nbsp;&nbsp;out+=`Totale lestijd: ${fmt(totalElapsed)}\n\n`;
&nbsp;&nbsp;const labels=["Organisatie & beheer","Instructie & uitleg","Actieve leertijd","Overig / pauze"];
&nbsp;&nbsp;labels.forEach((l,i)=>{
&nbsp;&nbsp;&nbsp;&nbsp;out+=`${l}: ${fmt(accum[i])} (${(accum[i]/totalElapsed*100).toFixed(1)}%)\n`;
&nbsp;&nbsp;});
&nbsp;&nbsp;out+="\nVolledig logboek:\n";
&nbsp;&nbsp;document.querySelectorAll('#log .logentry').forEach(e=>out+=e.textContent+"\n");
&nbsp;&nbsp;document.querySelector('#result').textContent=out;
&nbsp;&nbsp;document.querySelector('#result').style.display='block';
};
/* ----------------- RESET -------------------- */
document.querySelector('#resetBtn').onclick=()=>{
&nbsp;&nbsp;if(confirm("Alles wissen en opnieuw beginnen?")) location.reload();
};
</script>
</body>
</html>
